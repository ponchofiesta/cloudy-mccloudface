{% extends "base/base_menu.html" %}

{% load humanize %}

{% block title %}Cloudy McCloudface{% endblock %}

{% block content %}

    <div class="ui vertical segment">
        <h1 class="ui header">
            Cloudy McCloudface
        </h1>
        <div class="ui hidden divider"></div>
        {% include 'base/menu.html' %}
    </div>

    <div class="ui vertical segment">

        {% include 'base/breadcrumb.html' %}

        <table class="ui table">
            <thead>
            <tr>
                <th>Name</th>
                <th>Date</th>
                <th>Size</th>
                <th class="right aligned">Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for item in items %}
            <tr>
                <td class="collapsing">
                    {% if item.is_dir %}
                        <i class="folder icon"></i>
                    {% else %}
                        <i class="file outline icon"></i>
                    {% endif %}
                    <a href="?path={{ path }}/{{ item.name }}">
                        {{ item.name }}
                    </a>
                </td>
                <td>{{ item.mdate|date:"D d M Y, H:s" }}</td>
                <td>{{ item.size|filesizeformat }}</td>
                <td>
                    <div class="ui right floated icon menu">
                        {% if not item.is_dir %}
                            <a class="popup icon item" href="{% url 'download' %}?path={{ path }}/{{ item.name }}">
                                <i class="download icon" data-content="Download" data-position="bottom right"></i>
                            </a>
                        {% endif %}
                        <a class="rename icon item">
                            <i class="text cursor icon" data-content="Rename" data-position="bottom right"></i>
                        </a>
                        <a class="popup icon item">
                            <i class="trash icon" data-content="Delete" data-position="bottom right"></i>
                        </a>
                    </div>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>

    </div>
{% endblock %}